# Доклад

## 1. Титульный слайд

Уважаемая комиссия!

Представляю вашему вниманию выпускную квалификационную работу бакалавра на тему:
"Прогнозирование сбоев в работе станков лазерной резки
на основе методов интеллектуального анализа данных".

## 2. Станок Навигатор КС-12В

В настоящее время я работаю в компании Omnicube,
занимающейся разработкой систем автоматизации и мониторинга различных устройств.
Одним из клиентов компании является предприятие Сеспель, производящее цистерны и полуприцепы
для различных категорий транспорта.

Сеспель использует станки лазерной резки модели Навигатор КС-12В.
Производителем станков является компания ВНИТЭП.

## 3. Актуальность

Актуальность темы ВКР обуславливается отсутствием системы
автоматизированного прогнозирования неисправностей для станков Навигатор.
Подобная система могла бы сократить расходы компании Сеспель на сопровождение станков.

Кроме этого, область автоматического прогнозирования и выявления неисправностей
в устройствах также является довольно актуальной и быстроразвивающейся.


## 4. Цель

Итак, целью дипломной работы является
разработка системы для прогнозирования и обнаружения неисправностей
на станках лазерной резки Навигатор КС-12В компании ВНИТЭП.

Объектом исследования является станок лазерной резки Навигатор КС-12В
Предметом -- система прогнозирования и обнаружения неисправностей для данного станка.

## 5. Задачи

Задачами являются:

- анализ показателей и их краевых значений, предоставляющих сведения о неисправностях станка Навигатор;
- анализ существующих решений и подходов для прогнозирования неисправностей в устройствах;
- обработка и анализ накопленных данных со станка Навигатор;
- обоснование и выбор методов для прогнозирования и обнаружения неисправностей;
- разработка модели прогнозирования и программного модуля;
- введение разработанного модуля в эксплуатацию.

## 6. Существующие решения

Основными видами неисправностей станка Навигатор являются различные ошибки и сбои,
а именно:

- выход из строя лазерной головы станка;
- выход из строя оси XYZ;
- ошибки операторов.

Существуют следующие подходы в к выявлению неисправностей:
- мониторинг ошибок оператором;
- мониторинг на основе показателей системы Omnicube;
- мониторинг программного обеспечения ЧПУ.

## 7. Мониторинг показателей и ошибок

На данном слайде отображен пользовательский интерфейс
для станка Навигатор,
которые отображает статистику по различным показателям станка.

## 8. Гипотеза

Выявленной проблемой является отсутствие автоматизированной системы прогнозирования и выявления потенциальных неисправностей
на станках Навигатор, позволяющая сохранить ресурсы пользователей станка.

Основной гипотезой является использование методов интеллектуального анализа данных
для прогнозирования неисправностей.

## 9. Анализ подходов

В рамках анализа существующих решений был выявлен ряд методов и подходов
для прогнозирования неисправностей.
В основном используются следующие методы:

- анализ временных рядов;
- методы машинного обучения: классификация, регрессия и кластеризация;
- нейронные сети различных архитектур;
- методы теории фильтров и динамических систем: фильтры Калмана, адаптивные фильтры.

## 10. Входные и выходные данные

Анализируемыми входными данными являются:
- температура лазера;
- мощность лазера;
- установленная мощность лазера;
- время в Unix формате.

Выходными:
- отчет о состоянии станка.

## 11. Тестирование на нормальность

Первым этапом в работе был анализ и проверка данных температуры и мощности лазера на нормальность.
На данном слайде отображены результаты тестирования.
Можно сказать, что данные не являются источником нормального распределения.
А это говорит о том, что распределение является нетривиальным,
что означает невозможность использования статистических методов,
требующих наличия нормального распределения.
Поэтому необходимо использовать более комплексные методы.


## 12. Свойства параметров температуры и мощности

На следующем слайде вы можете видеть отрезок временных рядов данных,
а именно сравнение фактической мощности с установленной.
Также на нижнем графике отображена связь температуры и мощности лазера.
Для сравнения температуры и мощности данные временных рядов нормализованы.

# 13. Тестирование на стационарность

Временные ряды, представляющие данные, были протестированы на стационарность при помощи теста Дики-Фулера.
Это было сделано по причине того, что большинство методов интеллектуального анализа данных
могут работать только со стационарными рядами.
Из приведенных результатов можно сказать, что временной ряд температуры является стационарным.
Для мощности лазера также выполняются условия стационарности.

## 14. Прогнозирование на основе LSTM

Для задачи прогнозирования временных рядов была выбрана рекуррентная нейронная сеть LSTM
или Long short-term memory, что в переводе означает Долгая краткосрочная память.
Данная архитектура показала хорошие результаты прогнозирования различных временных рядов в ряде работ.

## 15. Оптимальные окна

Для наиболее эффективного обучения нейронной сети
были использованы различные подходы к определению оптимального размера окон, а именно для
общего окна, окна обучения и окна предсказания.

## 16. Результаты предсказания

На данном слайде вы можете увидеть динамику функций ошибок в процессе обучения нейронной сети и результаты предсказания.
В целом можно сказать, что нейронная сеть обладает хорошей предсказательной способностью.

## 17. Кластеризация

Для выявления паттернов и улучшения работы нейронной сети в данных был использован алгоритм кластеризации k-Shape.
Данный алгоритм обладает высокой гибкостью и был специально разработан для задач кластеризации многомерных временных рядов.

Алгоритм представляет собой поиск центроидов
на основе специальной метрики,
формула которой отображена на слайде.
Данная метрика строится на основе максимизации отношения кросс-корреляции
двух переменных векторов и квадратного корня произведения автокорреляции
первого и второго вектора.

На слайде вы можете также видеть результаты кластеризации и выявленные паттерны, а именно состояния понижения температуры,
повышения и стабилизации.

## 18. Архитектура

На данном слайде отображено представление архитектуры разработанного решения.
Данные берутся из БД ClickHouse, обрабатываются для подходящего вида,
после отправляются в модель прогнозирования и модуль выявления неисправностей.
После на основе алгоритма градиентного бустинга и условных конструкций проводится заключительный этап анализа,
в котором формируется окончательный отчет о состоянии станка.

## 19. Внедрение в эксплуатацию

На данном слайде описана система компании Omnicube,
построенная на основе микросервисной архитектуры,
в разработке которой я также принимал и продолжаю принимать участие.
В данную систему будет встраиваться разработанный модуль,
а именно в микросервис Omniprocessing. Можно увидеть как данные собираются в одном сервисе,
отправляются в брокер, а потом обрабатываются в Omniprocessing с дополнительными данными из БД ClickHouse.

## 20. Заключение

В заключении можно сказать, что все поставленные задачи были выполнены, поставленная цель достигнута
в виде создания модуля прогнозирования ошибок и сбоев на станках лазерной резки Навигатор КС-12В.